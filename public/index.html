<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Car Parts Inventory</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="page">
    <header class="hero">
      <div>
        <p class="eyebrow">Automotive | Stock Control</p>
        <h1>Car Parts Inventory</h1>
        <p class="lede">Monitor stock, move parts in and out, and keep suppliers close at hand.</p>
      </div>
      <div class="hero-actions">
        <button class="primary" id="refreshBtn">Refresh data</button>
        <span class="status-dot" id="apiStatus">Checking API...</span>
      </div>
    </header>

    <section class="grid stats auth-row">
      <div class="card auth-card">
        <h3>Sign in</h3>
        <form id="loginForm" class="auth-form">
          <label>Username<input id="loginUser" value="admin" /></label>
          <label>Password<input id="loginPass" type="password" value="admin12" /></label>
          <div class="auth-actions">
            <button class="primary" type="submit">Login</button>
            <button type="button" class="ghost" id="logoutBtn">Logout</button>
          </div>
          <p class="muted" id="authStatus">Not signed in</p>
        </form>
      </div>
      <div class="card">
        <p class="label">Inventory value</p>
        <p class="value" id="statValue">$0</p>
      </div>
      <div class="card">
        <p class="label">Reservations (open)</p>
        <p class="value" id="statRes">0</p>
      </div>
    </section>

    <section class="grid stats" id="stats">
      <div class="card">
        <p class="label">Parts in catalog</p>
        <p class="value" id="statParts">0</p>
      </div>
      <div class="card">
        <p class="label">On-hand units</p>
        <p class="value" id="statUnits">0</p>
      </div>
      <div class="card">
        <p class="label">Low stock alerts</p>
        <p class="value alert" id="statAlerts">0</p>
      </div>
      <div class="card">
        <p="label">Suppliers</p>
        <p class="value" id="statSuppliers">0</p>
      </div>
    </section>

    <section class="panel" id="lowStockPanel">
      <div class="panel-header">
        <h2>Low stock</h2>
        <p class="panel-sub">Items at or below reorder level.</p>
      </div>
      <div class="pill-row" id="lowStockList"></div>
    </section>

    <section class="panel">
      <div class="panel-header">
        <h2>Parts catalog</h2>
        <p class="panel-sub">Search, edit, and monitor quantities.</p>
      </div>
      <div class="filters">
        <input id="filterSearch" placeholder="Search name/SKU/barcode" />
        <label class="checkbox"><input type="checkbox" id="filterLow" />Low only</label>
        <label class="checkbox"><input type="checkbox" id="filterActive" checked />Active only</label>
        <select id="filterSupplier"></select>
        <div class="pager">
          <button class="ghost" id="prevPage">Prev</button>
          <span id="pageLabel">1</span>
          <button class="ghost" id="nextPage">Next</button>
        </div>
      </div>
      <div class="table-wrapper">
        <table>
          <thead>
            <tr>
              <th>Name</th>
              <th>SKU</th>
              <th>Qty</th>
              <th>Reorder @</th>
              <th>Supplier</th>
              <th>Price</th>
              <th>Barcode</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="partsTable"></tbody>
        </table>
      </div>
    </section>

    <section class="panel">
      <div class="panel-header">
        <h2>Operations</h2>
        <p class="panel-sub">Add parts, move stock, manage suppliers, reservations, POs, imports, and attachments.</p>
      </div>
      <div class="tab-bar" role="tablist">
        <button class="tab-button active" data-op-tab="parts">Parts</button>
        <button class="tab-button" data-op-tab="stock">Stock</button>
        <button class="tab-button" data-op-tab="suppliers">Suppliers</button>
        <button class="tab-button" data-op-tab="reservations">Reservations</button>
        <button class="tab-button" data-op-tab="pos">Purchase orders</button>
        <button class="tab-button" data-op-tab="import">Import / Export</button>
        <button class="tab-button" data-op-tab="attachments">Attachments</button>
      </div>
      <div class="op-panes">
        <div class="card form-card op-pane active" data-op-pane="parts">
          <h3>Add / update part</h3>
          <form id="partForm">
            <input type="hidden" id="partId" />
            <label>Name<input required id="partName" /></label>
            <label>SKU<input required id="partSku" /></label>
            <label>Description<textarea id="partDesc"></textarea></label>
            <label>Quantity<input type="number" min="0" value="0" id="partQty" /></label>
            <label>Reorder level<input type="number" min="0" value="5" id="partReorder" /></label>
            <label>Price<input type="number" min="0" step="0.01" id="partPrice" /></label>
            <label>Supplier<select id="partSupplier"></select></label>
            <label>Barcode<input id="partBarcode" /></label>
            <label>Location<input id="partLocation" /></label>
            <label>Lead time (days)<input type="number" min="0" value="0" id="partLead" /></label>
            <label class="checkbox"><input type="checkbox" id="partActive" checked />Active</label>
            <button class="primary" type="submit">Save part</button>
            <button type="button" class="ghost" id="resetPartForm">Clear</button>
          </form>
        </div>
        <div class="card form-card op-pane" data-op-pane="stock">
          <h3>Stock movement</h3>
          <form id="moveForm">
            <label>Part<select required id="movePart"></select></label>
            <label>Quantity<input type="number" min="1" value="1" id="moveQty" /></label>
            <label>Direction<select id="moveDir"><option value="in">Stock in</option><option value="out">Stock out</option></select></label>
            <label>Note<textarea id="moveNote" placeholder="Optional note"></textarea></label>
            <button class="primary" type="submit">Apply movement</button>
          </form>
        </div>
        <div class="card form-card op-pane" data-op-pane="suppliers">
          <h3>New supplier</h3>
          <form id="supplierForm">
            <label>Name<input required id="supName" /></label>
            <label>Contact<input id="supContact" /></label>
            <label>Phone<input id="supPhone" /></label>
            <label>Email<input type="email" id="supEmail" /></label>
            <label>Address<textarea id="supAddress"></textarea></label>
            <button class="primary" type="submit">Save supplier</button>
          </form>
        </div>
        <div class="card form-card op-pane" data-op-pane="reservations">
          <h3>Reservation</h3>
          <form id="reservationForm">
            <label>Part<select required id="resPart"></select></label>
            <label>Qty<input type="number" min="1" value="1" id="resQty" /></label>
            <label>Reference<input id="resRef" /></label>
            <label>Note<textarea id="resNote"></textarea></label>
            <button class="primary" type="submit">Create reservation</button>
          </form>
        </div>
        <div class="card form-card op-pane" data-op-pane="pos">
          <h3>Purchase order</h3>
          <form id="poForm">
            <label>Supplier<select id="poSupplier"></select></label>
            <label>Expected date<input type="date" id="poDate" /></label>
            <label>Part<select id="poPart"></select></label>
            <label>Qty<input type="number" min="1" value="1" id="poQty" /></label>
            <label>Price<input type="number" step="0.01" id="poPrice" /></label>
            <label>Notes<textarea id="poNotes"></textarea></label>
            <button class="primary" type="submit">Create PO</button>
          </form>
        </div>
        <div class="card form-card op-pane" data-op-pane="import">
          <h3>Import / Export</h3>
          <form id="importForm">
            <label>CSV (name,sku,description,quantity,reorder_level,price)<textarea id="importCsv" placeholder="name,sku,desc,qty,reorder,price"></textarea></label>
            <button class="primary" type="submit">Import CSV</button>
            <button type="button" class="ghost" id="exportBtn">Export CSV</button>
          </form>
        </div>
        <div class="card form-card op-pane" data-op-pane="attachments">
          <h3>Attachments (metadata)</h3>
          <form id="attachForm">
            <label>Entity<select id="attachEntity"><option value="part">Part</option><option value="supplier">Supplier</option><option value="purchase_order">Purchase order</option></select></label>
            <label>Entity ID<input type="number" id="attachId" /></label>
            <label>File name<input id="attachName" /></label>
            <label>File URL<textarea id="attachUrl"></textarea></label>
            <button class="primary" type="submit">Save attachment</button>
          </form>
        </div>
      </div>
    </section>

    <section class="panel">
      <div class="panel-header">
        <h2>Recent movements</h2>
        <p class="panel-sub">Latest 100 adjustments.</p>
      </div>
      <div class="table-wrapper">
        <table>
          <thead>
            <tr>
              <th>Date</th>
              <th>Part</th>
              <th>Type</th>
              <th>Qty</th>
              <th>Note</th>
            </tr>
          </thead>
          <tbody id="movementTable"></tbody>
        </table>
      </div>
    </section>

    <section class="panel">
      <div class="panel-header">
        <h2>Reports</h2>
        <p class="panel-sub">Slow movers and low stock.</p>
      </div>
      <div class="table-wrapper">
        <table>
          <thead><tr><th>Part</th><th>SKU</th><th>Moved out</th></tr></thead>
          <tbody id="slowTable"></tbody>
        </table>
      </div>
      <div class="pill-row" id="alertList"></div>
    </section>
  </div>
  <script src="script.js"></script>
</body>
</html>
